╔════════════════════════════════════════════════════════════════════════════════╗
║                                                                                ║
║                    ✅ НОВЫЕ ПАРАМЕТРЫ КОНФИГУРАЦИИ                            ║
║                                                                                ║
║                    enable_upload и enable_speaker_identification              ║
║                                                                                ║
╚════════════════════════════════════════════════════════════════════════════════╝


📊 ДВА ГЛАВНЫХ ПАРАМЕТРА
═══════════════════════════════════════════════════════════════════════════════

1️⃣ enable_upload
   ├─ Тип: логический (true/false)
   ├─ Значение по умолчанию: true
   ├─ Описание: Включить/отключить загрузку видео на сервер транскрипции
   │
   ├─ true  → Видео загружаются на сервер для транскрипции
   │          Требуется: api_base_url, api_key
   │
   └─ false → Видео только переименовываются, транскрипция отключена
              Требуется: только Google Calendar API

2️⃣ enable_speaker_identification (НОВЫЙ)
   ├─ Тип: логический (true/false)
   ├─ Значение по умолчанию: true
   ├─ Описание: Включить/отключить автоматическое определение спикеров (AI)
   │
   ├─ true  → AI автоматически определяет имена спикеров
   │          Требуется: openrouter_api_key, openrouter_model
   │
   └─ false → Спикеры не определяются автоматически
              Только ручное редактирование в Telegram


🎯 МАТРИЦА КОНФИГУРАЦИЙ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ СЦЕНАРИЙ 1: Только переименование                                          │
├─────────────────────────────────────────────────────────────────────────────┤
│ enable_upload: false                                                        │
│ enable_speaker_identification: false                                        │
│                                                                             │
│ Что происходит:                                                            │
│ 1. Видео появляется в watch_folder                                         │
│ 2. Приложение переименовывает его по названию встречи                      │
│ 3. Файл остается в watch_folder                                            │
│ 4. Конец                                                                   │
│                                                                             │
│ Требуется:                                                                 │
│ ✅ Google Calendar API                                                     │
│ ❌ Сервер транскрипции                                                     │
│ ❌ OpenRouter API                                                          │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ СЦЕНАРИЙ 2: Переименование + Транскрипция (без AI)                         │
├─────────────────────────────────────────────────────────────────────────────┤
│ enable_upload: true                                                         │
│ enable_speaker_identification: false                                        │
│                                                                             │
│ Что происходит:                                                            │
│ 1. Видео появляется в watch_folder                                         │
│ 2. Приложение переименовывает его                                          │
│ 3. Пользователь переносит в to_transcribe_folder                           │
│ 4. Приложение загружает на сервер                                          │
│ 5. Ждет завершения транскрипции                                            │
│ 6. Предлагает пользователю вручную редактировать спикеров                  │
│ 7. Публикует результаты                                                    │
│                                                                             │
│ Требуется:                                                                 │
│ ✅ Google Calendar API                                                     │
│ ✅ Сервер транскрипции (Scriberr)                                          │
│ ❌ OpenRouter API                                                          │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ СЦЕНАРИЙ 3: Полный функционал (Переименование + Транскрипция + AI)         │
├─────────────────────────────────────────────────────────────────────────────┤
│ enable_upload: true                                                         │
│ enable_speaker_identification: true                                         │
│                                                                             │
│ Что происходит:                                                            │
│ 1. Видео появляется в watch_folder                                         │
│ 2. Приложение переименовывает его                                          │
│ 3. Пользователь переносит в to_transcribe_folder                           │
│ 4. Приложение загружает на сервер                                          │
│ 5. Ждет завершения транскрипции                                            │
│ 6. AI АВТОМАТИЧЕСКИ определяет имена спикеров                              │
│ 7. Предлагает пользователю проверить/отредактировать спикеров              │
│ 8. Публикует результаты                                                    │
│                                                                             │
│ Требуется:                                                                 │
│ ✅ Google Calendar API                                                     │
│ ✅ Сервер транскрипции (Scriberr)                                          │
│ ✅ OpenRouter API                                                          │
└─────────────────────────────────────────────────────────────────────────────┘


📝 ПРИМЕРЫ КОНФИГУРАЦИЙ
═══════════════════════════════════════════════════════════════════════════════

КОНФИГУРАЦИЯ 1: Только переименование
{
    "enable_upload": false,
    "enable_speaker_identification": false
}

КОНФИГУРАЦИЯ 2: Переименование + Транскрипция (без AI)
{
    "enable_upload": true,
    "enable_speaker_identification": false,
    "api_base_url": "http://localhost:8080",
    "api_key": "YOUR_API_KEY"
}

КОНФИГУРАЦИЯ 3: Полный функционал (с AI)
{
    "enable_upload": true,
    "enable_speaker_identification": true,
    "api_base_url": "http://localhost:8080",
    "api_key": "YOUR_API_KEY",
    "openrouter_api_key": "sk-or-v1-YOUR_KEY",
    "openrouter_model": "google/gemini-2.0-flash-001"
}


🔧 ЧТО ТАКОЕ enable_upload?
═══════════════════════════════════════════════════════════════════════════════

enable_upload: true
├─ Видео загружаются на сервер транскрипции (Scriberr)
├─ Приложение ждет завершения транскрипции
├─ Обрабатывает результаты (спикеры, summary и т.д.)
├─ Публикует в Google Sheets и Google Drive
└─ Требует: api_base_url, api_key

enable_upload: false
├─ Видео только переименовываются
├─ Транскрипция не происходит
├─ Файл остается в watch_folder
└─ Требует: только Google Calendar API


🤖 ЧТО ТАКОЕ enable_speaker_identification?
═══════════════════════════════════════════════════════════════════════════════

enable_speaker_identification: true
├─ AI (OpenRouter) автоматически определяет имена спикеров
├─ Приложение предлагает пользователю проверить результаты
├─ Пользователь может отредактировать имена в Telegram
└─ Требует: openrouter_api_key, openrouter_model

enable_speaker_identification: false
├─ Спикеры не определяются автоматически
├─ Приложение предлагает пользователю вручную редактировать спикеры
├─ Пользователь редактирует имена в Telegram
└─ Требует: только Telegram бот


📊 ТАБЛИЦА ЗАВИСИМОСТЕЙ
═══════════════════════════════════════════════════════════════════════════════

Параметр                      Зависит от              Требует
─────────────────────────────────────────────────────────────────────────────
enable_upload                 -                       api_base_url, api_key
enable_speaker_identification enable_upload=true      openrouter_api_key
google_sheets_id              -                       Google Sheets API
drive_transcript_folder_id    -                       Google Drive API
telegram_bot_token            -                       Telegram бот


✅ ПРОВЕРКА РЕАЛИЗАЦИИ
═══════════════════════════════════════════════════════════════════════════════

Код:
  ✅ Параметр enable_upload добавлен в config.py
  ✅ Параметр enable_speaker_identification добавлен в config.py
  ✅ Логика в video_uploader.py обновлена
  ✅ Нет синтаксических ошибок

Документация:
  ✅ CONFIG_REFERENCE.md - полный справочник
  ✅ PARAMETERS_EXPLAINED.md - объяснение параметров
  ✅ PARAMETERS_SUMMARY.txt - этот файл


🚀 БЫСТРАЯ НАСТРОЙКА
═══════════════════════════════════════════════════════════════════════════════

Шаг 1: Выберите сценарий
  [ ] Только переименование
  [ ] Переименование + транскрипция (без AI)
  [ ] Полный функционал (с AI)

Шаг 2: Скопируйте конфигурацию из раздела "ПРИМЕРЫ КОНФИГУРАЦИЙ"

Шаг 3: Добавьте свои значения (API ключи, пути и т.д.)

Шаг 4: Сохраните в config.json

Шаг 5: Запустите приложение
  python main.py


❓ ЧАСТО ЗАДАВАЕМЫЕ ВОПРОСЫ
═══════════════════════════════════════════════════════════════════════════════

Q: Что если я установлю enable_upload: false?
A: Приложение будет только переименовывать видео. Транскрипция не будет работать.

Q: Что если я установлю enable_speaker_identification: false?
A: Спикеры не будут определяться автоматически. Вы сможете редактировать их
   вручную в Telegram.

Q: Нужен ли мне OpenRouter API ключ?
A: Только если вы хотите enable_speaker_identification: true.

Q: Что если я не установлю api_key?
A: Загрузка видео не будет работать. Установите enable_upload: false.

Q: Можно ли использовать приложение без Google API?
A: Да, если установить enable_upload: false и не использовать Google Sheets.

Q: Что если я не установлю Telegram токен?
A: Приложение будет работать, но уведомления не будут отправляться.


📚 ДОКУМЕНТАЦИЯ
═══════════════════════════════════════════════════════════════════════════════

Для подробной информации см.:
  👉 CONFIG_REFERENCE.md - полный справочник всех параметров
  👉 PARAMETERS_EXPLAINED.md - объяснение параметров с примерами
  👉 README.md - основная информация
  👉 SETUP.md - инструкция по установке


═══════════════════════════════════════════════════════════════════════════════
Дата: 27 января 2026
Версия: 2.1 (Добавлены параметры enable_upload и enable_speaker_identification)
Статус: ✅ Готово к использованию
═══════════════════════════════════════════════════════════════════════════════
